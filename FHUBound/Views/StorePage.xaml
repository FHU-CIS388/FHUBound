<?xml version="1.0" encoding="UTF-8" ?>
<ContentPage
    x:Class="FHUBound.Views.StorePage"
    xmlns="http://xamarin.com/schemas/2014/forms"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:d="http://xamarin.com/schemas/2014/forms/design"
    xmlns:flex="clr-namespace:Flex.Controls;assembly=Flex"
    xmlns:local="clr-namespace:FHUBound"
    xmlns:models="clr-namespace:FHUBound.Models"
    xmlns:pancake="clr-namespace:Xamarin.Forms.PancakeView;assembly=Xamarin.Forms.PancakeView"
    Title="Store">
    <ContentPage.Resources>
        <ResourceDictionary>
            <local:StringNullOrEmptyBoolConverter x:Key="StringNullOrEmptyBoolConverter" />
        </ResourceDictionary>
    </ContentPage.Resources>
    <ContentPage.Content>
        <Grid BackgroundColor="{StaticResource Blue}">
            <Grid Grid.Row="0" Padding="16,60,16,0">
                <Grid.RowDefinitions>
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="auto" />
                </Grid.ColumnDefinitions>

                <!--  Page Header  -->
                <Label
                    Grid.Row="0"
                    Grid.Column="0"
                    Padding="0"
                    LineBreakMode="WordWrap"
                    Style="{StaticResource LargeText}"
                    Text="Rewards Store"
                    TextColor="{StaticResource LightWhite}" />

                <flex:FlexButton
                    Grid.Row="0"
                    Grid.Column="1"
                    Margin="0"
                    Padding="8"
                    BackgroundColor="{StaticResource LightWhite}"
                    BorderThickness="1"
                    CornerRadius="16"
                    FontFamily="{StaticResource BoldFont}"
                    FontSize="25"
                    ForegroundColor="{StaticResource DarkGray}"
                    HasShadow="True"
                    HeightRequest="48"
                    HighlightBackgroundColor="{StaticResource LightWhite}"
                    HighlightBorderColor="{StaticResource Maroon}"
                    HighlightForegroundColor="{StaticResource Maroon}"
                    Text="325 🦁"
                    VerticalOptions="Start" />
            </Grid>

            <!--  CollectionView of Cards  -->
            <CollectionView
                x:Name="CardsCollectionView"
                Grid.Row="0"
                Margin="0,0,0,80">
                <d:CollectionView.ItemsSource>
                    <x:Array Type="{x:Type models:Card}">
                        <models:Card
                            ButtonText="Watch More"
                            HeaderSubtitle="DEVO"
                            HeaderTitle="Devos with David" />
                        <models:Card
                            ButtonText="Explore Majors"
                            HeaderSubtitle="MAJORS"
                            HeaderTitle="Find Your Fit"
                            ImageUrl="istockpuzzle.jpg" />
                    </x:Array>
                </d:CollectionView.ItemsSource>

                <CollectionView.Header>
                    <!--  Spacer for page header  -->
                    <StackLayout Padding="0,160,0,0" />
                </CollectionView.Header>

                <CollectionView.ItemTemplate>
                    <DataTemplate>

                        <Grid Padding="16">
                            <pancake:PancakeView
                                Padding="0"
                                BackgroundColor="{StaticResource LightWhite}"
                                CornerRadius="16"
                                HasShadow="True"
                                HorizontalOptions="FillAndExpand"
                                IsClippedToBounds="False">

                                <Grid Padding="0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="*" />
                                        <RowDefinition Height="Auto" />
                                        <RowDefinition Height="Auto" />
                                    </Grid.RowDefinitions>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>

                                    <!--  Card Header  -->
                                    <StackLayout Grid.Row="0" Padding="16,16">
                                        <Label
                                            Margin="0"
                                            HorizontalOptions="FillAndExpand"
                                            IsVisible="{Binding HeaderSubtitle, Converter={StaticResource StringNullOrEmptyBoolConverter}}"
                                            LineBreakMode="NoWrap"
                                            Style="{StaticResource HeaderSubtitle}"
                                            Text="" />
                                        <Label
                                            Margin="0"
                                            HorizontalOptions="FillAndExpand"
                                            IsVisible="{Binding HeaderTitle, Converter={StaticResource StringNullOrEmptyBoolConverter}}"
                                            Style="{StaticResource HeaderTitle}"
                                            Text="FHUBound Hoodie" />
                                    </StackLayout>

                                    <!--  Card Body  -->
                                    <Grid Grid.Row="1">
                                        <StackLayout Margin="0" Padding="0">
                                            <Image
                                                Margin="0"
                                                Aspect="AspectFill"
                                                HorizontalOptions="FillAndExpand"
                                                IsVisible="{Binding ImageUrl, Converter={StaticResource StringNullOrEmptyBoolConverter}}"
                                                Source="{Binding ImageUrl}"
                                                VerticalOptions="FillAndExpand" />

                                            <StackLayout Padding="16,8" Spacing="4">
                                                <Label
                                                    HorizontalTextAlignment="Center"
                                                    IsVisible="{Binding BodyTitle, Converter={StaticResource StringNullOrEmptyBoolConverter}}"
                                                    Style="{StaticResource LargeText}"
                                                    Text="Hi3"
                                                    TextColor="{Binding Black}" />

                                                <Label
                                                    HorizontalTextAlignment="Center"
                                                    IsVisible="{Binding BodySubtitle, Converter={StaticResource StringNullOrEmptyBoolConverter}}"
                                                    Style="{StaticResource MediumLargeText}"
                                                    Text="Hi4"
                                                    TextColor="{Binding Black}" />

                                                <Label
                                                    HorizontalTextAlignment="Center"
                                                    IsVisible="{Binding BodyContent, Converter={StaticResource StringNullOrEmptyBoolConverter}}"
                                                    Style="{StaticResource MediumText}"
                                                    Text="Hi5"
                                                    TextColor="{Binding Black}" />
                                            </StackLayout>
                                        </StackLayout>
                                    </Grid>


                                    <!--  Card Button  -->
                                    <Label Grid.Row="2" />

                                    <!--  Card Footer  -->
                                    <StackLayout
                                        Grid.Row="3"
                                        Margin="-20,0,-40,-20"
                                        Padding="16,0,16,20"
                                        BackgroundColor="{StaticResource Maroon}"
                                        HorizontalOptions="FillAndExpand">

                                        <flex:FlexButton
                                            Margin="0,10,0,10"
                                            Padding="0,0,0,0"
                                            FontFamily="{StaticResource BlackFont}"
                                            ForegroundColor="{StaticResource LightWhite}"
                                            HeightRequest="50"
                                            Text="1000 BoundBucks" />
                                    </StackLayout>
                                </Grid>
                            </pancake:PancakeView>
                        </Grid>

                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>
        </Grid>
    </ContentPage.Content>

</ContentPage>
